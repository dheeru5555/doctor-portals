(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"6ae700cfacae34d4989a":function(e,t,a){"use strict";a.r(t);var r,n=a("8af190b70a6bc55c6f1b"),o=a.n(n),s=a("0d7f0986bcd2f33d8a2a"),i=a("1037a6e0d5914309f74c"),c=a.n(i),d=(a("8a2d1b95e05b6a321e74"),a("921c0b8c557fe6ba5da8")),u=a.n(d),l=a("9b4cf02f7f3c4453e043"),f=a.n(l),p=a("6938d226fd372a75cbf9"),b=a("4dd2a92e69dcbe1bab10"),m=a("d7dd51e1bf6bfc2c9c3d"),v=a("d18b150bf005d511c70c"),h=a.n(v),y=a("ad4fea5d1d5c5e03445f"),g=a.n(y),S=(a("17a826745d7905c7f263"),a("13a96070d9864da91ea7")),w=a("7b322cdd2181307222e4"),O=a("5e98cee1846dbfd41421"),k=a("8e0e912a0dbd4709f206"),j=a("825c971f9bd9b0bf4ce7"),P=a("062734d30032a8ced8be"),M=a("9312cd433b3276b12ba7");function I(e,t,a,n){r||(r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,s=arguments.length-3;if(t||0===s||(t={children:void 0}),1===s)t.children=n;else if(s>1){for(var i=new Array(s),c=0;c<s;c++)i[c]=arguments[c+3];t.children=i}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function B(e){return(B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach(function(t){_(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function K(e,t,a,r,n,o,s){try{var i=e[o](s),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(r,n)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var R=new w.a,T=I("span",{},void 0,"Welcome to"),A=I("span",{},void 0,"Please sign in to continue");t.default=Object(m.connect)(function(e){return{masterData:e.get("dashboardReducer").masterData}},{handleUserLogin:k.d,updateUserHashedKey:j.q,fetchMasterData:M.d})(Object(p.withStyles)(S.a)(function(e){var t=e.classes,a=e.updateUserHashedKey,r=c.a.name+" - Login",i=c.a.desc,d=E(Object(n.useState)({userName:"",password:"",rememberMe:!1,errorMessages:null}),2),l=d[0],p=d[1],m=E(Object(n.useState)({isSnackBarOpen:!1,snackBarText:"",snackBarSeverity:"success"}),2),v=m[0],y=m[1];Object(n.useEffect)(function(){null==e.masterData&&e.fetchMasterData()}),Object(n.useEffect)(function(){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);null!==t&&O.a.push("app/profile"),t&&t.frontdesk&&t.userId&&t.hashedKey&&t.hashedKey.length>0&&void 0!==t.verified&&(1==t.frontdesk?O.a.push("/app/appointments"):0==t.verified?O.a.push("/app/profile"):O.a.push("/app/dashboard"))},[]);var S=(k=regeneratorRuntime.mark(function t(r){var n,o,s,i,c,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""!==l.userName||""!==l.password){t.next=4;break}return p(x({},l,{errorMessages:x({},l.errorMessages,{userName:["Please enter a email or phone number"],password:["Please enter a password"]})})),t.abrupt("return");case 4:if(""!==l.userName){t.next=7;break}return p(x({},l,{errorMessages:x({},l.errorMessages,{userName:["Please enter a username"]})})),t.abrupt("return");case 7:if(""!==l.password){t.next=10;break}return p(x({},l,{errorMessages:x({},l.errorMessages,{password:["Please enter a password"]})})),t.abrupt("return");case 10:return n={username:l.userName,password:l.password},t.next=13,R.CORE_URI().post("auth/login",n);case 13:o=t.sent,Object.keys(o.data).length>0&&!0===o.data.success?(e.handleUserLogin(o.data),s=[],o.data.frontdesk&&o.data.frontdesk_tags.map(function(e){s.push(e.clinic)}),i={hashedKey:o.data.hashedKey,userId:o.data.userId,verified:o.data.verified,frontdesk:!!o.data.hasOwnProperty("frontdesk")&&o.data.frontdesk,frontdesk_tags:o.data.frontdesk_tags,clinics:s,cr_id:""},P.a.defaults.headers.common.Authorization="Bearer ".concat(o.data.hashedKey),localStorage.setItem("userInfo",JSON.stringify(i)),localStorage.setItem("cr_id",""),localStorage.setItem("selectedClinics",JSON.stringify([])),localStorage.setItem("selectedTag",""),1==o.data.frontdesk?O.a.push("/app/profile"):void 0!==o.data.verified&&!1===o.data.verified?O.a.push("/app/profile"):o.data.isSubscribed?O.a.push("/app/dashboard"):O.a.push("/subscriptions")):o.data&&!1===o.data.success&&o.data.errorMessage&&(void 0!==o.data.continueRegistration&&!0===o.data.continueRegistration&&(console.log(o),c={hashedKey:o.data.hashedKey,userId:o.data.userId,email:o.data.email,frontdesk:o.data.frontdesk,frontdesk_tags:o.data.frontdesk_tags,cr_id:""},localStorage.setItem("email",o.data.email),localStorage.setItem("cr_id",""),localStorage.setItem("selectedTag",""),a(c.hashedKey),O.a.push({pathname:"/register-process",state:{currentStep:void 0!==o.data.currentStep?o.data.currentStep:1}})),d={},"object"===B(o.data.errorMessage)?d=x({},o.data.errorMessage):y({isSnackBarOpen:!0,snackBarText:o.data.errorMessage,snackBarSeverity:"error"}),p(x({},l,{errorMessages:x({},d)})));case 15:case"end":return t.stop()}},t)}),j=function(){var e=this,t=arguments;return new Promise(function(a,r){var n=k.apply(e,t);function o(e){K(n,a,r,o,s,"next",e)}function s(e){K(n,a,r,o,s,"throw",e)}o(void 0)})},function(e){return j.apply(this,arguments)}),w=function(e,t){"clickaway"!==t&&y({isSnackBarOpen:!1,snackBarText:"",snackBarSeverity:"success"})};var k,j;return I("div",{className:t.rootFull},void 0,I(s.Helmet,{},void 0,I("title",{},void 0,r),I("meta",{name:"description",content:i}),I("meta",{property:"og:title",content:r}),I("meta",{property:"og:description",content:i}),I("meta",{property:"twitter:title",content:r}),I("meta",{property:"twitter:description",content:i})),I("div",{className:t.containerSide},void 0,I(f.a,{smDown:!0},void 0,I("div",{className:t.opening,style:{width:"35%"}},void 0,I("div",{className:t.openingWrap},void 0,I("div",{className:t.openingHead},void 0,I("div",{className:t.brand},void 0,c.a.name)),I(u.a,{variant:"h3",component:"h1",gutterBottom:!0},void 0,T,"\xa0",c.a.name),I(u.a,{variant:"h6",component:"p",className:t.subpening},void 0,A)))),I("div",{className:t.sideFormWrap},void 0,I("form",{onSubmit:S,action:"",style:{height:"100%"}},void 0,I(b.r,{formValues:l,updateValueFormFields:function(e,t){var a=x({},l);null!==a.errorMessages&&a.errorMessages[e]&&delete a.errorMessages[e],a[e]=t,p(a)},handleFormSubmit:S,masterData:e.masterData})),I(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:v.isSnackBarOpen,autoHideDuration:2e3,onClose:w},void 0,I(function(e){return o.a.createElement(g.a,N({elevation:6,variant:"filled"},e))},{severity:v.snackBarSeverity,onClose:w},void 0,v.snackBarText)))))}))}}]);