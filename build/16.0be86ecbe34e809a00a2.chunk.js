(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{cf7850a7a2444b5171b4:function(e,t,n){"use strict";n.r(t);var a,o=n("8af190b70a6bc55c6f1b"),i=n.n(o),r=n("0d7f0986bcd2f33d8a2a"),l=n("1037a6e0d5914309f74c"),c=n.n(l),s=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),u=n("e95a63b25fb92ed15721"),d=n("4dd2a92e69dcbe1bab10"),f=n("b78ee477e6ac6a65dd83"),p=n.n(f),m=n("282d5645b44ba868741e"),v=n.n(m),b=n("e799c547a20a503b338f"),g=n.n(b),h=n("46d80164b9622d7eb23c"),y=n.n(h),w=n("2aea235afd5c55b8b19b"),C=n.n(w),x=n("e63d4adcf4e70dde54c8"),_=n.n(x),k=n("ecbdedbb63dd08b2841e"),S=n.n(k),O=n("031191083d7a21fda934"),D=n.n(O),P=n("c793540c8703ab130f9f"),R=n.n(P),j=n("425a53da62655ce87eb9"),N=n.n(j),A=n("a41b1282a0bb7cfc499f"),I=n.n(A),z=n("be638c054224589367e1"),T=n.n(z),B=n("d7dd51e1bf6bfc2c9c3d"),E=n("17a826745d7905c7f263"),U=n("e727e731a9bed8ec3c2a"),M=n.n(U),F=n("10e4c616cb3b01bafafd"),L=n.n(F),W=n("1551459233b95bf53af9"),$=n.n(W),H=n("1e579025aece93aebe67"),Q=n.n(H),Y=n("eb6b79030a47f0b10efc"),G=n.n(Y),J=(n("b02fe3f80d4238b52f20"),n("f6efa02fe3f75b753dcb"),n("0b3cb19af78752326f59")),V=n("7b322cdd2181307222e4"),K=n("2411adc7ace59bb896d4"),q=n("9312cd433b3276b12ba7"),X=n("bcf62943f039319845be"),Z=n("b5f9e0c375240aeaffec"),ee=n("c7fd554010f79f6c0ef8"),te=n.n(ee),ne=n("435859b6b76fb67a754a"),ae=n.n(ne);function oe(e,t,n,o){a||(a="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),1===r)t.children=o;else if(r>1){for(var l=new Array(r),c=0;c<r;c++)l[c]=arguments[c+3];t.children=l}if(t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ie(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function re(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function r(e){ie(i,a,o,r,l,"next",e)}function l(e){ie(i,a,o,r,l,"throw",e)}r(void 0)})}}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ce,se=oe(Q.a,{id:"alert-dialog-description"},void 0,"Are you sure, you want to Cancel consutation?");function ue(e){var t=e.consultationDetails,n=le(i.a.useState(!1),2),a=n[0],o=n[1],r=Object(u.useHistory)();function l(){o(!1)}var c=function(){var e=re(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new V.a,e.next=3,n.ACCOUNTS_URI().post("appointments/updateAppointmentStatus",{ids:[t.id],status:6}).then(function(e){console.log("cancelAppointmentResp",e)}).catch(function(e){console.log("Error is:",e)}).finally(function(){o(!1),r.push("/app/appointments")});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return oe("div",{style:{display:"contents"}},void 0,oe(C.a,{variant:"contained",onClick:function(){o(!0)},style:{marginLeft:5,marginRight:5}},void 0,"Cancel Consultation"),oe(M.a,{open:a,onClose:l,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},void 0,oe($.a,{},void 0,se,oe(ae.a,{container:!0},void 0,oe(ae.a,{item:!0,xs:4},void 0,oe(Q.a,{id:"alert-dialog-description",style:{color:"red"}},void 0,"Reason* :")),oe(ae.a,{item:!0,xs:8},void 0,oe(te.a,{id:"outlined-multiline-static",multiline:!0,rows:"4",variant:"outlined",inputProps:{maxLength:250},placeholder:"Type reason for cancellation...",style:{borderColor:"red"}})))),oe(L.a,{},void 0,oe(C.a,{onClick:l,color:"primary",variant:"outlined"},void 0,"No"),oe(C.a,{onClick:re(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),variant:"contained",autoFocus:!0,style:{marginRight:15}},void 0,"Yes"))))}function de(e,t,n,a){ce||(ce="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var r=new Array(i),l=0;l<i;l++)r[l]=arguments[l+3];t.children=r}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:ce,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function fe(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function r(e){fe(i,a,o,r,l,"next",e)}function l(e){fe(i,a,o,r,l,"throw",e)}r(void 0)})}}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ve=de($.a,{},void 0,de(Q.a,{id:"alert-dialog-description"},void 0,"Are you sure, you want to Complete consutation?"));function be(e){var t=e.consultationDetails,n=me(i.a.useState(!1),2),a=n[0],o=n[1];function r(){o(!1)}var l=Object(u.useHistory)();var c=function(){var e=pe(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new V.a,console.log(t.id),e.next=4,n.ACCOUNTS_URI().post("appointments/updateCounsultationStatus",{appointment_id:t.id,consultation_status:"c"}).then(function(e){console.log("completeConsultationResp",e)}).catch(function(e){console.log("Error is:",e)}).finally(function(){o(!1),l.push({pathname:"/completed",state:{id:t.id,name:"".concat(t.patient.first_name," ").concat(t.last_name)}})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return de("div",{style:{display:"contents"}},void 0,de(C.a,{variant:"contained",onClick:function(){o(!0)},style:{marginLeft:5,marginRight:5}},void 0,"Complete Consultation"),de(M.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},void 0,ve,de(L.a,{},void 0,de(C.a,{onClick:r,color:"primary",variant:"outlined"},void 0,"No"),de(C.a,{onClick:pe(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),variant:"contained",autoFocus:!0},void 0,"Yes"))))}var ge,he=n("ef58856f4f875bd36582"),ye=n.n(he),we=n("29df10ef1bee6d38fd67"),Ce=n.n(we),xe=n("b27e083e7741c2dccb3f"),_e=n.n(xe),ke=n("16c7abd7abc407b9f247"),Se=n.n(ke),Oe=n("ae9596d86622312bdbac"),De=n.n(Oe),Pe=n("bdcdcd433224c208b67d"),Re=n.n(Pe),je=n("c502bee2fd4be3dd7f62"),Ne=n.n(je),Ae=n("1fcb8f6d8f8292281b75"),Ie=n.n(Ae),ze=n("71786e439547641341d9"),Te=n.n(ze),Be=n("5c0a236ca4c0b26f32cd"),Ee=n.n(Be),Ue=n("119075d77ff088d4d08e"),Me=n("2e6789347e39d24a0ca4"),Fe=n("02b185abdbff04d8a73d"),Le=n.n(Fe),We=n("7c3fe2cb581dd1babffa");function $e(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ye(e,t,n,a){ge||(ge="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var r=new Array(i),l=0;l<i;l++)r[l]=arguments[l+3];t.children=r}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:ge,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ge(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach(function(t){Ke(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe={width:16,height:16,borderRadius:"50%",display:"inline-block",position:"relative",marginRight:5,top:1,background:"url(".concat(Re.a,") no-repeat transparent"),backgroundSize:"16px auto",'&[class="ar"]':{backgroundPosition:"0 3px"},'&[class="zh"]':{backgroundPosition:"0 -12px"},'&[class="en"]':{backgroundPosition:"0 -28px"},'&[class="de"]':{backgroundPosition:"0 -44px"},'&[class="id"]':{backgroundPosition:"0 -62px"},'&[class="es"]':{backgroundPosition:"0 -79px"}},Xe=function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},actionButtons:{color:"#000000a3",backgroundColor:"#e0e0e0",margin:e.spacing(1)},header:{display:"flex",justifyContent:"space-between"},rightPanelTitle:{padding:"15px 0px",border:"1px solid #dedede",background:"#fff",marginTop:58},title:{padding:"15px 10px"},rightPanel:{padding:"15px 20px"},customButton:{justifyContent:"space-between",padding:"15px 0px","&:hover":{background:"inherit"}},textField:{marginTop:0,marginBottom:0,backgroundColor:"white"},inputLang:{maxWidth:260,background:"white",border:"none",paddingBottom:5,"& i":Ve({},qe)},options:{width:"100%",background:"white","& .MuiSelect-select.MuiSelect-select":{padding:9}},formControl:{width:"100%"},optionsButton:{background:"white",border:"none",height:"100%",width:"100%",fontWeight:500,textTransform:"capitalize"},popover:{padding:20,background:"#f5f5f5"},optionsTitle:{paddingLeft:27,paddingTop:10}}},Ze=Ye(y.a,{}),et=Object(s.withStyles)(Xe)(function(e){e.children;var t=e.classes,n=(e.saveRx,e.consultationDetails),a=e.onClose,o=e.handlePrint,r=Ge(e,["children","classes","saveRx","consultationDetails","onClose","handlePrint"]);return i.a.createElement(G.a,Qe({disableTypography:!0,className:t.root},r),Ye("div",{className:t.header},void 0,a?Ye(C.a,{"aria-label":"close",className:t.textWhite,onClick:a},void 0,Ze,"Back to Consult"):null,Ye("div",{},void 0,Ye(C.a,{variant:"contained",className:t.actionButtons,onClick:o},void 0,"Print Rx"),Ye(ue,{consultationDetails:n}),Ye(be,{consultationDetails:n}))))}),tt=Object(s.withStyles)(function(e){return{root:{padding:e.spacing(2),background:"#f5f5f5"}}})($.a),nt=Ye(ye.a,{},void 0,"replay"),at=Ye("option",{value:""},void 0,"Select Language *");var ot,it=Object(B.connect)(function(e){return{masterData:e.get("dashboardReducer").masterData,consultationDetails:e.get("appointmentReducer").consultaitionDetails}},{})(Object(s.withStyles)(Xe)(function(e){var t=new V.a,n=e.classes,a=e.consultationDetails,r=e.masterData,l=He(i.a.useState(!1),2),c=l[0],s=l[1],u=He(i.a.useState({age:"",name:"hai"}),2),f=(u[0],u[1],He(i.a.useState(null),2)),p=f[0],m=f[1],v=He(i.a.useState(a.follow_up_date),2),b=v[0],h=v[1],y=He(i.a.useState(a.follow_up_note),2),w=y[0],x=y[1],_=He(i.a.useState(1),2),k=_[0],S=_[1],O=He(i.a.useState({follow_up_note:!0,follow_up_date:!0,chief_complaint:!0,symptoms:!0,vitals:!0,observations:!0,diagnosis:!0,investigations:!0,medical_history:!0,instructions:!0,procedures:!0,medicines:!0}),2),D=O[0],P=O[1],R=He(i.a.useState({}),2),j=R[0],N=R[1],A=Object(o.useRef)(),I=Object(Me.useReactToPrint)({content:function(){return A.current}});i.a.useEffect(function(){!0===c&&t.ACCOUNTS_URI().put("appointments/consultation/previewRx",{appointment_id:a.id,language_id:k,follow_up_date:b,follow_up_note:w,print_options:D}).then(function(e){N(e.data.previewHtml)}).catch(function(e){console.log("err",e)})},[c,b,w,D,k]);var z=Boolean(p),T=z?"simple-popover":void 0,B=function(){s(!1)},E=(F=regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={appointment_id:a.id,prescription_lang_id:k,follow_up_date:b,follow_up_note:w},e.next=3,t.ACCOUNTS_URI().put("appointments/consultation/saveRx",n).then(function(e){console.log("saveRxResp",e)}).catch(function(){console.log("saveRx err",Ue.AssertionError)});case 3:case"end":return e.stop()}},e)}),L=function(){var e=this,t=arguments;return new Promise(function(n,a){var o=F.apply(e,t);function i(e){$e(o,n,a,i,r,"next",e)}function r(e){$e(o,n,a,i,r,"throw",e)}i(void 0)})},function(){return L.apply(this,arguments)}),U=function(e){var t=Ve({},D);!0===t[e]?(t[e]=!1,P(t)):(t[e]=!0,P(t))};var F,L;return Ye("div",{style:{display:"contents"}},void 0,Ye(C.a,{variant:"contained",onClick:function(){s(!0)},style:{marginLeft:5,marginRight:5}},void 0,"Preview Rx"),Ye(M.a,{fullScreen:!0,onClose:B,"aria-labelledby":"customized-dialog-title",open:c},void 0,Ye(et,{id:"customized-dialog-title",saveRx:E,onClose:B,consultationDetails:a,handlePrint:I},void 0,"Modal title"),Ye(tt,{dividers:!0},void 0,Ye(ae.a,{container:!0,spacing:2,justify:"center"},void 0,Ye(ae.a,{item:!0,sm:4},void 0,Ye("div",{className:n.rightPanelTitle},void 0,Ye("div",{className:n.rightPanel},void 0,Ye(C.a,{fullWidth:!0,className:n.customButton},void 0,"Follow Up"),Ye(We.MuiPickersUtilsProvider,{utils:Le.a},void 0,Ye(We.KeyboardDatePicker,{format:"dd/MM/yyyy",disablePast:!0,placeholder:"Select Date",mask:[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/],value:""!==b?b:"",onChange:function(e){h(e)},animateYearScrolling:!1})),Ye(Ce.a,{title:"Reset",onClick:function(){h(null)}},void 0,Ye(g.a,{style:{padding:"8px 10px",marginLeft:10}},void 0,nt))),Ye(_e.a,{style:{margin:"15px 0 0"}}),Ye("div",{className:n.rightPanel},void 0,Ye(C.a,{fullWidth:!0,className:n.customButton},void 0,"Notes"),Ye(te.a,{id:"outlined-multiline-static",label:"Add Follow up Notes",multiline:!0,rows:"4",className:n.textField,value:w,onChange:function(e){return x(e.target.value)},margin:"normal",inputProps:{maxLength:250},variant:"outlined",fullWidth:!0})))),Ye(ae.a,{item:!0,sm:8},void 0,Ye(ae.a,{container:!0,spacing:2,justify:"flex-end"},void 0,Ye(ae.a,{item:!0,sm:2},void 0,Ye(Se.a,{className:n.formControl},void 0,Ye(De.a,{fullWidth:!0,native:!0,value:k,onChange:function(e){return S(e.target.value)},label:"Age",inputProps:{name:"age",id:"outlined-age-native-simple"},className:n.inputLang},void 0,at,r.languages.map(function(e){return Ye("option",{value:e.id},e.id,e.name)})))),Ye(ae.a,{item:!0,sm:2},void 0,Ye(C.a,{className:n.optionsButton,variant:"outlined",onClick:function(e){m(e.currentTarget)}},void 0,"Print Options"),Ye(Ie.a,{id:T,open:z,anchorEl:p,onClose:function(){m(null)},anchorOrigin:{vertical:50,horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},void 0,Ye("div",{className:n.popover},void 0,Ye(Se.a,{component:"fieldset",className:n.formControl},void 0,Ye(Te.a,{},void 0,Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"follow_up_note",checked:D.follow_up_note,onChange:function(){return U("follow_up_note")}}),label:"Follow Up Notes"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"follow_up_date",checked:D.follow_up_date,onChange:function(){return U("follow_up_date")}}),label:"Follow Up date"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"chief_complaint",checked:D.chief_complaint,onChange:function(){return U("chief_complaint")}}),label:"Chief Complaint"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"symptoms",checked:D.symptoms,onChange:function(){return U("symptoms")}}),label:"Symptoms"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"observations",checked:D.observations,onChange:function(){return U("observations")}}),label:"Observations"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"diagnosis",checked:D.diagnosis,onChange:function(){return U("diagnosis")}}),label:"Diagnosis"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"investigations",checked:D.investigations,onChange:function(){return U("investigations")}}),label:"Investigation results"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"medical_history",checked:D.medical_history,onChange:function(){return U("medical_history")}}),label:"Medical History"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"vitals",checked:D.vitals,onChange:function(){return U("vitals")}}),label:"Vitals"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"instructions",checked:D.instructions,onChange:function(){return U("instructions")}}),label:"Instructions"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"followUp",checked:D.procedures,onChange:function(){return U("procedures")}}),label:"Procedures"}),Ye(Ee.a,{control:Ye(Ne.a,{size:"small",name:"medicines",checked:D.medicines,onChange:function(){return U("medicines")}}),label:"Medicines"})))))),i.a.createElement(ae.a,{item:!0,sm:12,ref:A},Ye(d.z,{prescriptionTemplate:j}))))))))}));function rt(e,t,n,a,o,i,r){try{var l=e[i](r),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,o)}function lt(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var i=e.apply(t,n);function r(e){rt(i,a,o,r,l,"next",e)}function l(e){rt(i,a,o,r,l,"throw",e)}r(void 0)})}}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function st(e,t,n,a){ot||(ot="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=a;else if(i>1){for(var r=new Array(i),l=0;l<i;l++)r[l]=arguments[l+3];t.children=r}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:ot,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object(J.default)("div").withConfig({displayName:"Consult__CallWrapper",componentId:"sc-129gvjk-0"})([".MuiDialog-root{position:sticky;}"]);var ut=st(E.a,{}),dt=st(y.a,{}),ft=st("br",{}),pt=st("small",{},void 0,"Note: If you go back Consultation will be Paused"),mt=st(D.a,{label:"Attachments",value:"2"}),vt=st(it,{}),bt=st(I.a,{value:"2"},void 0,st(d.d,{}));t.default=Object(B.connect)(function(e){return{selectedQueueId:e.get("appointmentReducer").selectedQueueId,masterData:e.get("dashboardReducer").masterData,consultationDetails:e.get("appointmentReducer").consultaitionDetails,imagesOrDocs:e.get("dashboardReducer").imagesOrDocs}},{fetchConsultationDetails:X.e,fetchNewMedicineOptions:X.f,fetchMasterData:q.d,setSelectedQueueId:X.n,resetConsultationDetails:X.l,fetchImageOrDocument:q.c})(Object(s.withStyles)(function(e){return{container:{textAlign:"center"},root:{display:"flex",height:"100%",background:"#f5f5f5",width:"100%"},appBar:{position:"absolute",width:"100%",paddingTop:50},flex:{flex:1},actionButtons:{color:"#000000a3",backgroundColor:"#e0e0e0",margin:e.spacing(1)},header:{display:"flex",justifyContent:"space-between",backgroundColor:"white",color:"black",borderRadius:0,boxShadow:"0px 1px 6px 0px rgb(142 142 142 / 20%), 0px 1px 1px 0px rgb(243 243 243 / 14%), 0px 2px 1px -1px rgb(204 204 204 / 12%)","& button":{fontSize:"10px !important"}},hSection1:{display:"flex",alignItems:"center","&$selected":{color:"#1890ff",fontWeight:900}},tabList:{borderRadius:0},tab:{minHeight:65},callBtn:{background:"#5b9bd3",color:"white",marginRight:5,"&:hover":{background:"#5b9bd3"}},avatar:{borderRadius:5}}})(function(e){var t,n=new V.a,a=c.a.name+" - Consultation",o=c.a.desc,l=e.classes,s=window.sessionStorage.getItem("selectedQueueId"),f=ct(i.a.useState(!1),2),m=f[0],b=f[1],h=ct(i.a.useState(!1),2),y=(h[0],h[1],ct(i.a.useState("1"),2)),w=y[0],x=y[1],k=Object(u.useHistory)();if(i.a.useEffect(function(){return null===s&&void 0===s||(e.fetchConsultationDetails(s),e.setSelectedQueueId(s),e.fetchNewMedicineOptions()),null===e.masterData&&e.fetchMasterData(),null===e.imagesOrDocs&&e.fetchImageOrDocument(),function(){e.setSelectedQueueId(null),e.resetConsultationDetails()}},[]),null===s||void 0===s||null===e.consultationDetails||null===e.masterData||null===e.imagesOrDocs)return ut;var O=e.consultationDetails,P=O.patient,j=O.id,A=O.patient_family_member;t="".concat(e.imagesOrDocs.patient_avatar_prefix_url).concat(P.avatar);var z=(B=lt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ACCOUNTS_URI().post("appointments/updateCounsultationStatus",{appointment_id:j,consultation_status:"p"}).then(function(e){console.log("pauseConsultation",e)}).catch(function(e){console.log("Error is:",e)}).finally(function(){b(!1),k.push("/app/appointments")});case 2:case"end":return e.stop()}},e)})),function(){return B.apply(this,arguments)});var B;return st("div",{className:l.root},void 0,st(r.Helmet,{},void 0,st("title",{},void 0,a),st("meta",{name:"description",content:o}),st("meta",{property:"og:title",content:a}),st("meta",{property:"og:description",content:o}),st("meta",{property:"twitter:title",content:a}),st("meta",{property:"twitter:description",content:o})),st(R.a,{value:w},void 0,st(p.a,{},void 0,st(v.a,{className:l.header},void 0,st("div",{className:l.hSection1},void 0,st(g.a,{color:"inherit","aria-label":"Close",onClick:function(){b(!0)},style:{height:"100%"}},void 0,dt),st(M.a,{open:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},void 0,st(G.a,{style:{marginBottom:12},id:"alert-dialog-title"},void 0,"Go Back?"),st($.a,{},void 0,st(Q.a,{id:"alert-dialog-description"},void 0,st("span",{style:{color:"#000"}},void 0,"Consulation is not been completed yet, Are you sure you want to Go Back?"),ft,pt)),st(L.a,{},void 0,st(C.a,{onClick:function(){b(!1)},variant:"contained",style:{fontSize:12}},void 0,"Continue with Consulation"),st(C.a,{onClick:function(){return z()},color:"primary",variant:"contained",style:{fontSize:12},autoFocus:!0},void 0,"Pause Consultation"))),st(_.a,{avatar:st(S.a,{alt:"avatar",src:t,className:l.avatar}),title:i.a.createElement(i.a.Fragment,null,st("p",{style:{marginBottom:0}},void 0,null!==A?A.first_name:P.first_name," ",null!==A?A.last_name:P.last_name),st("p",{style:{marginBottom:0}},void 0,null!==A?K.a.genderName(e.consultationDetails.patient_family_member.gender):K.a.genderName(e.consultationDetails.patient.gender),","," ",null!==A?K.a.getAge(e.consultationDetails.patient_family_member.dob):K.a.getAge(e.consultationDetails.patient.dob),"y")),subheader:i.a.createElement(i.a.Fragment,null,st(T.a,{size:"small",label:e.consultationDetails.appointment_type.name,style:{marginRight:5,fontSize:9,height:17}}),st(T.a,{size:"small",label:function(e){switch(e){case"i":return"New";case"r":return"Repeat";case"f":return"Follow Up";default:return"New"}}(e.consultationDetails.consultation_type),style:{fontSize:9,height:17}})),style:{padding:"5px 16px"}}),st(N.a,{onChange:function(e,t){x(t)},"aria-label":"simple tabs example",className:l.tabList},void 0,st(D.a,{label:"Consult",value:"1",className:l.tab}),mt)),st("div",{style:{display:"flex"}},void 0,"Walk-In"===e.consultationDetails.appointment_type.name&&st(Z.a,{consultationDetails:e.consultationDetails,invoiceDisplay:!0,appointmentId:P.id,isData:!0}),"Audio"===e.consultationDetails.appointment_type.name&&st(d.e,{tokenId:e.consultationDetails.agora_token,channelName:e.consultationDetails.agora_channel,appointmentId:e.consultationDetails.id,avatar:t}),"Video"===e.consultationDetails.appointment_type.name&&st(d.I,{tokenId:e.consultationDetails.agora_token,channelName:e.consultationDetails.agora_channel,appointmentId:e.consultationDetails.id}),vt,st(ue,{consultationDetails:e.consultationDetails})))),st("div",{className:l.appBar,style:{backgroundColor:"#f5f5f5"}},void 0,st(I.a,{value:"1"},void 0,st(d.i,{avatar:t})),bt)))}))}}]);