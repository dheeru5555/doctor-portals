(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"3b43ecdf0d0af17b25f8":function(e,t,n){"use strict";n.r(t);var i,r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=(n("8a2d1b95e05b6a321e74"),n("6938d226fd372a75cbf9")),c=n("0d7f0986bcd2f33d8a2a"),s=n("1037a6e0d5914309f74c"),l=n.n(s),d=n("921c0b8c557fe6ba5da8"),p=n.n(d),u=n("435859b6b76fb67a754a"),f=n.n(u),b=n("e95a63b25fb92ed15721"),g=n("2aea235afd5c55b8b19b"),v=n.n(g),m=n("ad4fea5d1d5c5e03445f"),y=n.n(m),h=n("d18b150bf005d511c70c"),_=n.n(h),x=n("ef58856f4f875bd36582"),w=n.n(x),S=n("0b3cb19af78752326f59"),k=n("8425f816f7abcbf3c071"),C=n.n(k),O=n("d7dd51e1bf6bfc2c9c3d"),j=n("8e0e912a0dbd4709f206"),P=n("7b322cdd2181307222e4"),I=n("9d875bb0756edadf37b2"),B=n.n(I);function T(e,t,n,r){i||(i="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){A(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t,n,i,r,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(i,r)}function L(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var o=e.apply(t,n);function a(e){D(o,i,r,a,c,"next",e)}function c(e){D(o,i,r,a,c,"throw",e)}a(void 0)})}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var U=Object(S.default)("div").withConfig({displayName:"Subscriptions__SubscriptionCard",componentId:"sc-1p5m4j4-0"})(["position:relative;border:1px solid #dedede;padding:30px;border-radius:10px;text-align:center;height:100%;display:flex;flex-direction:column;justify-content:space-between;background:#fff;sup{top:-1.5rem;position:relative;font-size:large;font-weight:600;color:#ff4a2f;}"]),W=Object(S.default)("div").withConfig({displayName:"Subscriptions__SpecificSubscriptionCard",componentId:"sc-1p5m4j4-1"})(["background-color:#2d2d2d;color:#f5deb3;position:relative;border:1px solid #dedede;padding:10px;border-radius:10px;text-align:center;height:100%;sup{top:-1.5rem;position:relative;font-size:large;font-weight:600;color:#ff4a2f;}"]),E=T(p.a,{},void 0,"No Plans Found"),H=T("sup",{},void 0,"\u20b9"),F=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Advance Calendar"),J=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Professional Billing"),$=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Patient Charting"),K=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Unlimited Appointment confirmation, reminder & follow-up SMS"),Y=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"SMS Center"),q=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Advance Calendar"),G=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Professional Billing"),Q=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Patient Charting"),V=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"Unlimited Appointment confirmation, reminder & follow-up SMS"),X=T("p",{},void 0,T(w.a,{},void 0,"check_circle"),"SMS Center"),Z=T(p.a,{variant:"h6",align:"center"},void 0,"Pricing Plans");t.default=Object(O.connect)(function(e){return{doctorProfileDetails:e.get("profileReducer").doctorProfileDetails}},{fetchDoctorProfileDetails:j.b})(Object(a.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightMedium,padding:10},border:{border:"1px solid #dedede",padding:"15px 0px",background:"#f5f5f5",borderRadius:5},textField:{marginTop:5},title:{padding:"0 15px",fontWeight:700},column:{display:"flex",flexDirection:"column"},row:{display:"flex",flexDirection:"row"},flexEnd:{display:"flex",justifyContent:"flex-end"},spaceBetween:{display:"flex",justifyContent:"space-between"},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},button:{marginLeft:e.spacing(1),marginRight:e.spacing(1),background:"#fff"},customButton:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},typography:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},p3:{padding:e.spacing(3)},bold:{fontWeight:700},rightPanel:{padding:"15px 20px"},subtitle:{fontSize:11,color:"gray",margin:0,padding:"0 15px"},btnLink:{textDecoration:"underline",color:"blue"},statusChip:{background:"#0eae0e",fontSize:10,height:26,fontWeight:600,color:"white"},textCenter:{textAlign:"center"},planPrice:{fontSize:"3.5rem",color:"#ff2100"},listItem:{textAlign:"left",marginTop:20,"& p":{display:"flex",alignItems:"center","& span":{fontSize:"1rem",marginRight:10}}},ellipsis:{"-webkit-line-clamp":6,"-webkit-box-orient":"vertical",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box"},ribbon:{width:140,height:140,overflow:"hidden",position:"absolute",top:-6,right:-6},ribbonContent:{left:-25,top:30,"-webkit-transform":"rotate(45deg)","-ms-transform":"rotate(45deg)",transform:"rotate(45deg)",position:"absolute",display:"block",width:225,padding:"10px 0",backgroundColor:"#f5cd79",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.192)",color:"#fff",textShadow:"0 1px 1px rgba(0, 0, 0, .2)",textTransform:"uppercase",textAlign:"center",border:"2px dotted #fff",outline:"5px solid  #f5cd79","&:before":{top:0,left:0,borderTopColor:"transparent",borderRightColor:"transparent",position:"absolute",zIndex:-1,content:"",display:"block",border:"5px solid #f19066",boxSizing:"content-box"},"&:after":{bottom:0,right:0,borderTopColor:"transparent",borderRightColor:"transparent",position:"absolute",zIndex:-1,content:"",display:"block",border:"5px solid #f19066"}},subscriptionButton:{padding:"15px 0 !important"},headerContainer:{padding:"5px 25px",background:"#fff",boxShadow:"0 0 50px #ccc",position:"relative"},header:{display:"flex",justifyContent:"space-between",alignItems:"center","& .MuiTypography-button":{marginLeft:24},"& button":{marginLeft:24}},noDetails:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",color:"#808080",padding:50}}})(function(e){var t=new P.a,n=l.a.name+" - Settings",i=l.a.desc,a=e.classes,s=e.doctorProfileDetails,d=M(o.a.useState({current_plan:[],specific_subscription_plans:[],subscription_plans:[]}),2),u=d[0],g=d[1],m=M(Object(r.useState)({isSnackBarOpen:!1,snackBarText:"",snackBarSeverity:"success"}),2),h=m[0],x=m[1],w=Object(b.useHistory)(),S=(k=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ACCOUNTS_URI().get("settings/subscriptions").then(function(e){if(!0===e.data.success){var t=z({},u);t.current_plan=e.data.current_plans,t.specific_subscription_plans=e.data.specific_subscription_plans,t.subscription_plans=e.data.subscription_plans,g(t)}});case 2:case"end":return e.stop()}},e)})),function(){return k.apply(this,arguments)});var k;function O(e){return new Promise(function(t){var n=document.createElement("script");n.src=e,n.onload=function(){t(!0)},n.onerror=function(){t(!1)},document.body.appendChild(n)})}function j(e,t,n){return I.apply(this,arguments)}function I(){return(I=L(regeneratorRuntime.mark(function e(n,i,r){var o,a,c,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Razorpay SDK failed to load. Are you online?"),e.abrupt("return");case 6:return o={subscription_id:n,plan_interval:i,amount:parseInt(r,10),currency:"INR"},e.next=9,t.ACCOUNTS_URI().post("settings/subscriptions/generateSubscriptionOrderId",o).then(function(e){return e.data.orderRes}).catch(function(e){return console.log(e)});case 9:if(a=e.sent){e.next=13;break}return alert("Server error. Are you online?"),e.abrupt("return");case 13:c=a.amount,l=a.id,d=a.currency,p={key:"rzp_test_Nd0W8n3fTC3DWL",amount:parseInt(c,10),currency:d,name:"Online Aarogya",description:"Test Transaction",image:{logo:C.a},order_id:l,handler:function(){var e=L(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i={razorpay_order_id:n.razorpay_order_id,razorpay_payment_id:n.razorpay_payment_id,razorpay_signature:n.razorpay_signature},t.ACCOUNTS_URI().post("settings/subscriptions/verifySubscriptionSignature",i).then(function(e){e.data.success&&(S(),w.push("/app/profile"))}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),prefill:{name:"".concat(s.first_name," ").concat(s.last_name),email:s.email,contact:s.mobile},theme:{color:"#ff2100"}},new window.Razorpay(p).open();case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(r.useEffect)(function(){S(),e.fetchDoctorProfileDetails()},[]);var N=function(e,t){"clickaway"!==t&&x({isSnackBarOpen:!1,snackBarText:"",snackBarSeverity:"success"})},A=(D=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.ACCOUNTS_URI().post("auth/logout").then(function(e){200===e.status?(localStorage.removeItem("userInfo"),localStorage.removeItem("selectedClinics"),localStorage.clear(),w.push("/login"),window.location.reload()):x({isSnackBarOpen:!0,snackBarText:"Could not logout. Please try again later.",snackBarSeverity:"error"})}).catch(function(){x({isSnackBarOpen:!0,snackBarText:"Could not logout. Please try again later.",snackBarSeverity:"error"})});case 2:case"end":return e.stop()}},e)})),function(){return D.apply(this,arguments)});var D;return T("div",{style:{overflow:"hidden"}},void 0,T(c.Helmet,{},void 0,T("title",{},void 0,n),T("meta",{name:"description",content:i}),T("meta",{property:"og:title",content:n}),T("meta",{property:"og:description",content:i}),T("meta",{property:"twitter:title",content:n}),T("meta",{property:"twitter:description",content:i})),T(f.a,{container:!0,justify:"center",className:a.headerContainer},void 0,T(f.a,{item:!0,sm:12},void 0,T("div",{className:a.header},void 0,T("div",{style:{display:"flex",alignItems:"center"}},void 0,T("img",{src:C.a,alt:l.a.name,width:70}),T(p.a,{variant:"h6",style:{fontWeight:600,color:"red"}},void 0,"Online Aarogya")),T("div",{},void 0,T(v.a,{color:"primary",onClick:A},void 0,"Logout"))))),T(f.a,{container:!0,justify:"center",style:{padding:25},spacing:2},void 0,T(f.a,{item:!0,sm:12},void 0,Z,T("p",{className:a.textCenter},void 0,"All plans include 40+ advanced tools and features to boost your product. Choose the best plan to fit your needs.")),0===u.specific_subscription_plans.length?null:u.specific_subscription_plans.map(function(e){var t=e.subscription_details.length>0&&e.subscription_details[0].price&&null!==e.subscription_details[0].price?e.subscription_details[0].price:"0.00",n=e.subscription_details.length>0&&e.subscription_details[0].plan_interval&&null!==e.subscription_details[0].plan_interval?e.subscription_details[0].plan_interval:"m";return T(f.a,{item:!0,sm:6,lg:4,style:{marginRight:20}},"subscription-".concat(e.id),T(W,{},void 0,T(p.a,{variant:"subtitle2"},void 0,e.name),T("div",{className:a.ribbon},void 0,T("span",{className:a.ribbonContent},void 0,"For You")),T("div",{className:a.ellipsis,dangerouslySetInnerHTML:{__html:e.description}}),T("div",{},void 0,T("sup",{style:{color:"#f5cd79"}},void 0,"\u20b9"),T("span",{className:a.planPrice,style:{color:"#f5cd79"}},void 0,t),T("span",{},void 0,"m"===n?"/monthly":"/yearly")),T("div",{dangerouslySetInnerHTML:{__html:e.subscription_details[0].statuses}}),T("div",{className:a.listItem},void 0,q,G,Q,V,X),T(v.a,{variant:"contained",style:{backgroundColor:"#f5cd79",color:"white"},onClick:function(){return j(e.id,e.subscription_details[0].plan_interval,e.subscription_details[0].price)}},void 0,"Buy Now")))}),0===u.subscription_plans.length?T("div",{className:a.noDetails},void 0,T(B.a,{style:{fontSize:80}}),E):u.subscription_plans.map(function(e){var t=e.subscription_details.length>0&&e.subscription_details[0].price&&null!==e.subscription_details[0].price?e.subscription_details[0].price:"0.00",n=e.subscription_details.length>0&&e.subscription_details[0].plan_interval&&null!==e.subscription_details[0].plan_interval?e.subscription_details[0].plan_interval:"m";return T(f.a,{item:!0,sm:6,lg:4,style:{marginBottom:20}},"subscription-".concat(e.id),T(U,{},void 0,T("div",{},void 0,T(p.a,{variant:"subtitle2"},void 0,e.name),T("div",{className:a.ellipsis,dangerouslySetInnerHTML:{__html:e.description}}),T("div",{},void 0,H,T("span",{className:a.planPrice},void 0,t),T("span",{},void 0,"m"===n?"/monthly":"/yearly")),T("div",{dangerouslySetInnerHTML:{__html:e.subscription_details[0].statuses}}),T("div",{className:a.listItem},void 0,F,J,$,K,Y)),T(v.a,{variant:"contained",className:a.subscriptionButton,onClick:function(){return j(e.id,e.subscription_details[0].plan_interval,e.subscription_details[0].price)}},void 0,"Buy Now")))})),T(_.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:h.isSnackBarOpen,autoHideDuration:2e3,onClose:N},void 0,T(function(e){return o.a.createElement(y.a,R({elevation:6,variant:"filled"},e))},{severity:h.snackBarSeverity,onClose:N},void 0,h.snackBarText)))}))}}]);